# build local dev image
docker build -t a0:local --build-arg GIT_REPOSITORY=https://github.com/j0yk1ll/agent-zero --build-arg BRANCH=development --no-cache  .

# build local dev image with smart cache
docker build -t a0:local --build-arg GIT_REPOSITORY=https://github.com/j0yk1ll/agent-zero --build-arg BRANCH=development --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S)  .


# start local dev container
docker run --name a0-local -p 5000:80 a0:local

# push to dockerhub

docker login

# development
docker buildx build --build-arg GIT_REPOSITORY=https://github.com/j0yk1ll/agent-zero --build-arg BRANCH=development -t j0yk1ll/a0:development --platform linux/amd64,linux/arm64 --push --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) .

# testing
docker buildx build  --build-arg GIT_REPOSITORY=https://github.com/j0yk1ll/agent-zero --build-arg BRANCH=testing -t j0yk1ll/a0:testing --platform linux/amd64,linux/arm64 --push --build-arg CACHE_DATE=$(date +%Y-%m-%d:%H:%M:%S) .

# main
docker buildx build  --build-arg GIT_REPOSITORY=https://github.com/j0yk1ll/agent-zero --build-arg BRANCH=testing -t j0yk1ll/a0:testing --platform linux/amd64,linux/arm64 --push --no-cache .
